<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="stylesheets/styles-home.css">
    <meta name="theme-color" content="#ff6a00">
    <title>The Simmering Bone</title>
</head>
<body>
<header>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="global-js/animations-home.js"></script>
    <!-- Loader -->
    <div id="loading-screen">
        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <p id="loading-text">0%</p>
    </div>
    <!-- Loader Script -->
    <script src="global-js/loader.js"></script>
    <div class="title">
        <p class="orange">T</p>
        <p>HE <p>
        <p class="orange">S</p>
        <p>IMMERING </p>
        <p class="orange">B</p>
        <p>ONE</p>
    </div>
    <div class="subtitle">
        <p>Sustainably Produced Bone Broth</p>
    </div>
    <div class="market-CTA">
        <div class="market-CTA-blob">
<!--            <img src="images/home/blob-1.svg" alt="Blob" height="300">-->
        </div>
        <div class="market-CTA-blurb">
            <p>Shop our broth here!</p>
        </div>
        <div class="market-CTA-arrow">
            <img src="images/home/scribbles/market-scribble.svg" alt="Arrow" height="100">
        </div>
    </div>
    <div class="buttons-background"></div>
    <div class="buttons">
        <button onclick="document.location='store-front.html'">MARKET</button>
        <button>INGREDIENTS</button>
        <button onclick="document.location='about-us.html'">ABOUT US</button>
    </div>
    <script src="global-js/nav-buttons.js"></script>
</header>
<main>
    <section class="spacer1"></section>
    <section class="vid">
        <div class="mission-vid">
            <video src="./videos/home/mission.mp4" muted playsinline></video>
        </div>
        <div class="mission">
            <div class="mission-1">
                <div class="icon">
                    <img src="./images/home/clean-ingredients.png" alt="Clean Ingredients Icon">
                </div>
                <h3>Clean Ingredients</h3>
            </div>
            <div class="mission-2">
                <div class="icon">
                    <img src="./images/home/local-farmers.png" alt="Vermont Icon">
                </div>
                <h3>Supporting Local Farmers</h3>
            </div>
            <div class="mission-3">
                <div class="icon">
                    <img src="./images/home/earth.png" alt="Earth Icon">
                </div>
                <h3>Sustainably Produced + Always Plastic Free</h3>
            </div>
        </div>

        <script>
            window.addEventListener('scroll', function () {
                const video = document.querySelector('section.vid video');
                const videoRect = video.getBoundingClientRect();
                const videoTop = videoRect.top + window.scrollY;
                const videoBottom = videoTop + videoRect.height;
                const screenHeight = window.innerHeight;

                const maxWidth = 100; // Maximum width in percentage
                const minWidth = 95.67; // Minimum width in percentage
                const maxRadius = 34.14; // Maximum border-radius in px
                const minRadius = 0; // Minimum border-radius in px

                const scrollY = window.scrollY;

                if (scrollY + screenHeight < videoTop) {
                    // Before video
                    video.style.width = `${minWidth}%`;
                    video.style.borderRadius = `${maxRadius}px`;
                } else if (scrollY + screenHeight >= videoTop && scrollY < videoTop) {
                    // Scrolling into video
                    const progress = Math.min((scrollY + screenHeight - videoTop) / screenHeight, 1);
                    video.style.width = `${minWidth + progress * (maxWidth - minWidth)}%`;
                    video.style.borderRadius = `${maxRadius - progress * (maxRadius - minRadius)}px`;
                } else if (scrollY >= videoTop && scrollY < videoBottom - screenHeight) {
                    // While scrolling through video
                    video.style.width = `${maxWidth}%`;
                    video.style.borderRadius = `${minRadius}px`;
                } else if (scrollY >= videoBottom - screenHeight && scrollY < videoBottom) {
                    // Scrolling out of video
                    const progress = Math.min((scrollY - (videoBottom - screenHeight)) / screenHeight, 1);
                    video.style.width = `${maxWidth - progress * (maxWidth - minWidth)}%`;
                    video.style.borderRadius = `${minRadius + progress * (maxRadius - minRadius)}px`;
                } else {
                    // After video
                    video.style.width = `${minWidth}%`;
                    video.style.borderRadius = `${maxRadius}px`;
                }
            });

        </script>
    </section>
    <section class="brand-statement">
        <div class="scribbles-above">
            <div class="scribble-videos">
                <video src="videos/home/scribble-line-1.mov" muted playsinline id="scrib-vid-1" data-offset="120"></video>
                <video src="videos/home/scribble-line-2.mov" muted playsinline id="scrib-vid-2" data-offset="-50"></video>
            </div>
        </div>
        <div class="brand-statement-container">
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">L</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">c</div>
                <div class="char" style="position: relative; display: inline-block;">a</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
                <div class="char" style="position: relative; display: inline-block;">d</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">b</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
                <div class="char" style="position: relative; display: inline-block;">a</div>
                <div class="char" style="position: relative; display: inline-block;">u</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">f</div>
                <div class="char" style="position: relative; display: inline-block;">u</div>
                <div class="char" style="position: relative; display: inline-block;">l</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">V</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
                <div class="char" style="position: relative; display: inline-block;">m</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">,</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">T</div>
                <div class="char" style="position: relative; display: inline-block;">h</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">S</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">m</div>
                <div class="char" style="position: relative; display: inline-block;">m</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
                <div class="char" style="position: relative; display: inline-block;">g</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">B</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">s</div>
                <div class="char" style="position: relative; display: inline-block;">u</div>
                <div class="char" style="position: relative; display: inline-block;">p</div>
                <div class="char" style="position: relative; display: inline-block;">p</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">s</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">h</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">b</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
                <div class="char" style="position: relative; display: inline-block;">s</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">f</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">u</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">s</div>
                <div class="char" style="position: relative; display: inline-block;">m</div>
                <div class="char" style="position: relative; display: inline-block;">a</div>
                <div class="char" style="position: relative; display: inline-block;">l</div>
                <div class="char" style="position: relative; display: inline-block;">l</div>
                <div class="char" style="position: relative; display: inline-block;">,</div>
            </div>
            <div class="word" id="local_word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">l</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">c</div>
                <div class="char" style="position: relative; display: inline-block;">a</div>
                <div class="char" style="position: relative; display: inline-block;">l</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">f</div>
                <div class="char" style="position: relative; display: inline-block;">a</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
                <div class="char" style="position: relative; display: inline-block;">m</div>
                <div class="char" style="position: relative; display: inline-block;">s</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">w</div>
                <div class="char" style="position: relative; display: inline-block;">h</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">l</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">b</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
                <div class="char" style="position: relative; display: inline-block;">g</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
                <div class="char" style="position: relative; display: inline-block;">g</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">h</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">h</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">g</div>
                <div class="char" style="position: relative; display: inline-block;">h</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
                <div class="char" style="position: relative; display: inline-block;">s</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
            </div>
            <div class="word" id="quality_word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">q</div>
                <div class="char" style="position: relative; display: inline-block;">u</div>
                <div class="char" style="position: relative; display: inline-block;">a</div>
                <div class="char" style="position: relative; display: inline-block;">l</div>
                <div class="char" style="position: relative; display: inline-block;">i</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">y</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">b</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
                <div class="char" style="position: relative; display: inline-block;">e</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">b</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">h</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">t</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">y</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">u</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">a</div>
                <div class="char" style="position: relative; display: inline-block;">n</div>
                <div class="char" style="position: relative; display: inline-block;">d</div>
            </div>
            <div class="word" style="position: relative; display: inline-block;">
                <div class="char" style="position: relative; display: inline-block;">y</div>
                <div class="char" style="position: relative; display: inline-block;">o</div>
                <div class="char" style="position: relative; display: inline-block;">u</div>
                <div class="char" style="position: relative; display: inline-block;">r</div>
                <div class="char" style="position: relative; display: inline-block;">s</div>
                <div class="char" style="position: relative; display: inline-block;">.</div>
            </div>
        </div>
        <div class="scribbles-below">
<!--            <div class="scribble4">-->
<!--                <img src="images/home/scribbles/scribble4.png" alt="Scribble" id="scribble4">-->
<!--            </div>-->
        </div>

        <script>
            window.addEventListener('scroll', function () {
                const chars = document.getElementsByClassName('char');
                const section = document.querySelector('.brand-statement');
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;

                if (window.scrollY > sectionTop - 500 && window.scrollY < sectionTop + sectionHeight) {
                    const scrollOffset = window.scrollY - sectionTop + 450;
                    const char_index = Math.min(Math.floor(scrollOffset / 5), chars.length - 1);

                    Array.from(chars).forEach((char, index) => {
                        char.style.opacity = index <= char_index ? '1' : '0.2';
                    });
                }
            });

            // Lock underline to "local" word div
            window.addEventListener('resize', () => {
                // TODO - resize scribbles dynamically
                //  (currently they go off page when shrinking up-down, left-right appears to work fine)
                const local = document.getElementById('local_word');
                const quality = document.getElementById('quality_word');

                const underline1 = document.getElementById('scrib-vid-1');
                const underline2 = document.getElementById('scrib-vid-2');

                const wordTop1 = local.offsetTop;
                const wordLeft1 = local.offsetLeft;

                const wordTop2 = quality.offsetTop;
                const wordLeft2 = quality.offsetLeft;

                underline1.style.position = 'absolute';
                underline1.style.left = `${wordLeft1 - 25}px`;
                underline1.style.top = `${wordTop1 - local.offsetHeight + 25}px`;

                underline2.style.position = 'absolute';
                underline2.style.left = `${wordLeft2 - 20}px`;
                underline2.style.top = `${wordTop2 - quality.offsetHeight}px`;
            });

            window.addEventListener('scroll', () => {
                const local = document.getElementById('local_word');
                const quality = document.getElementById('quality_word');

                const underline1 = document.getElementById('scrib-vid-1');
                const underline2 = document.getElementById('scrib-vid-2');

                const wordTop1 = local.offsetTop;
                const wordLeft1 = local.offsetLeft;

                const wordTop2 = quality.offsetTop;
                const wordLeft2 = quality.offsetLeft;

                underline1.style.position = 'absolute';
                underline1.style.left = `${wordLeft1 - 15}px`;
                underline1.style.top = `${wordTop1 - local.offsetHeight + 25}px`;

                underline2.style.position = 'absolute';
                underline2.style.left = `${wordLeft2 - 20}px`;
                underline2.style.top = `${wordTop2 - quality.offsetHeight}px`;
            });

        </script>
    </section>
    <section class="quick-about">
        <div class="about-text">
            <p>The Simmering Bone seeks to provide access to healthy, nourishing food that supports optimal growth,
                development and general health. The concept is a broth-based company utilizing bones from
                grass-grazed Vermont animals that live as close to the way nature intended as possible and sourcing
                produce from 100% organic farms that value and practice ecological responsibility and sustainability.
                "Simmer" is committed to a plastic free existence. </p>
        </div>
    </section>
    <div class="health-benefits">
        <div class="benefits-title">
            <p>Health Benefits</p>
        </div>
        <div class="sp-benefits-container">
            <div class="benefits-1">
                <p>Healthy Liver & Gut</p>
            </div>
            <div class="benefits-2">
                <p>Alleviate Symptoms from Degenerative Join Diseases</p>
            </div>
            <div class="benefits-3">
                <p>Healthy Musculoskeletal System</p>
            </div>
            <div class="benefits-4">
                <p>Reduction of Allergic Symptoms for Infants Relying on Formula</p>
            </div>
            <div class="benefits-5">
                <p>Alleviation of Symptoms for Adults with food Allergies.</p>
            </div>
            <div class="benefits-6">
                <p>Improved Digestion</p>
            </div>
            <div class="benefits-7">
                <p>Repair of Gastrointestinal Disorders</p>
            </div>
            <div class="benefits-8">
                <p>Healthier Pregnancy</p>
            </div>
            <div class="benefits-9">
                <p>Healthy Growth of Young Children</p>
            </div>
        </div>
    </div>
    <div class="our-broth">
        <div class="broth-title">
            <p id="broth-title-1">Our</p>
            <p id="broth-title-2">Broth</p>
        </div>
        <div class="broth-def">
            <p id="broth-def-1">
                noun
            </p>
            <p id="broth-def-2">
                /brôTH,bräTH/
            </p>
            <p>
                1. A liquid made by simmering bones, meat, or vegetables in water, often used as a base for soups,
                sauces, and gravies.
            </p>
        </div>
        <div class="broth-photos">
            <div class="broth-photo-1">
                <img src="images/home/our-broth-1.jpg" alt="" height="400">
            </div>
        </div>
        <div class="broth-description">
            <p>
                Our focus on extracting as much healing collagen as possible is what sets us apart. When cold, our
                broth is the consistency of jell-o, a key indicator of an abundance of collagen.
                Don't worry, that jiggly mass heats to a delicious, soul-warming liquid and is meant to be sipped
                just like coffee or tea.
            </p>
        </div>
    </div>
<!--    <div class="placeholder"></div>-->
</main>
<footer>
    <div class="footer-content">
        <div class="footer-spinning-text">
            <img src="images/home/spinning-text.png" alt="" height="300" id="spinning-text">
        </div>
        <div class="footer-logo">
<!--            <img src="images/home/logo.png" alt="" height="275">-->
        </div>
        <div class="footer-info">
            <div class="footer-address">
                <p>The Simmering Bone</p>
                <p>57 Commerce Avenue</p>
                <p>South Burlington, VT, 05403</p>
            </div>
            <div class="footer-number">
                <p>802-578-7579</p>
            </div>
            <div class="footer-email">
                <p>simmervt@gmail.com</p>
            </div>
        </div>
    </div>
</footer>

<!--Video Scrubbing Script-->
<script src="global-js/scrubbing.js"></script>

<!--Cursor Stuff-->
<div class="circle_cursor"></div>
<script src="global-js/cursor-hover-effects.js"></script>
<script src="global-js/cursor.js"></script>

<!--Lenis Stuff (DO NOT TOUCH)-->
<script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@latest/bundled/lenis.min.js"></script>
<script src="global-js/smooth-scroll.js"></script>
</body>
</html>
